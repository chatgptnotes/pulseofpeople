# ============================================
# PULSE OF PEOPLE - PRODUCTION ENVIRONMENT
# ============================================
# DO NOT commit actual .env.production file to git
# Copy this template and fill with real production values

# ============================================
# Django Core Settings
# ============================================
SECRET_KEY=your-production-secret-key-min-50-chars-generate-with-python-secrets
DEBUG=False
ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com,api.yourdomain.com

# ============================================
# Database Configuration (PostgreSQL - Railway/Render)
# ============================================
DB_ENGINE=django.db.backends.postgresql
DB_NAME=pulseofpeople_prod
DB_USER=postgres
DB_PASSWORD=your-secure-production-password
DB_HOST=your-db-host.railway.app
DB_PORT=5432
DB_SSLMODE=require

# Database Connection Pooling
DB_CONN_MAX_AGE=600
DB_CONN_HEALTH_CHECKS=True

# ============================================
# Redis Cache & Celery (Required for Production)
# ============================================
REDIS_URL=redis://your-redis-host.railway.app:6379/0
REDIS_PASSWORD=your-redis-password

# Celery Configuration
CELERY_BROKER_URL=redis://your-redis-host.railway.app:6379/0
CELERY_RESULT_BACKEND=redis://your-redis-host.railway.app:6379/0
CELERY_ACCEPT_CONTENT=json
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_TIMEZONE=Asia/Kolkata

# ============================================
# JWT Settings (Production)
# ============================================
JWT_SECRET_KEY=your-jwt-secret-generate-random-string-min-64-chars
JWT_ACCESS_TOKEN_LIFETIME=15  # minutes (shorter in production)
JWT_REFRESH_TOKEN_LIFETIME=10080  # 7 days

# ============================================
# Email Configuration (SendGrid/SES)
# ============================================
# SendGrid
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.sendgrid.net
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=apikey
EMAIL_HOST_PASSWORD=your-sendgrid-api-key
DEFAULT_FROM_EMAIL=noreply@yourdomain.com
SERVER_EMAIL=alerts@yourdomain.com

# SendGrid API (for advanced features)
SENDGRID_API_KEY=SG.your-sendgrid-api-key

# ============================================
# SMS Configuration (Twilio/MSG91)
# ============================================
# Twilio
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_VERIFY_SERVICE_SID=your-verify-service-sid

# MSG91 (India)
MSG91_AUTH_KEY=your-msg91-auth-key
MSG91_SENDER_ID=PULSEPEOPLE
MSG91_ROUTE=4
MSG91_COUNTRY_CODE=91

# Default SMS Provider
SMS_PROVIDER=twilio  # or msg91

# ============================================
# Mapbox (Required)
# ============================================
MAPBOX_ACCESS_TOKEN=pk.your-production-mapbox-token

# ============================================
# Social Media APIs (Optional)
# ============================================
# Twitter/X API v2
TWITTER_API_KEY=your-twitter-api-key
TWITTER_API_SECRET=your-twitter-api-secret
TWITTER_BEARER_TOKEN=your-twitter-bearer-token
TWITTER_ACCESS_TOKEN=your-twitter-access-token
TWITTER_ACCESS_TOKEN_SECRET=your-twitter-access-token-secret

# Facebook Graph API
FACEBOOK_APP_ID=your-facebook-app-id
FACEBOOK_APP_SECRET=your-facebook-app-secret
FACEBOOK_ACCESS_TOKEN=your-long-lived-page-access-token

# Instagram Business API
INSTAGRAM_BUSINESS_ACCOUNT_ID=your-instagram-business-id
INSTAGRAM_ACCESS_TOKEN=your-instagram-access-token

# YouTube Data API v3
YOUTUBE_API_KEY=your-youtube-api-key
YOUTUBE_CHANNEL_ID=your-youtube-channel-id

# ============================================
# AI/ML Services (Optional)
# ============================================
# OpenAI
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4096

# Google Gemini
GEMINI_API_KEY=your-gemini-api-key
GEMINI_MODEL=gemini-pro

# Hugging Face
HUGGINGFACE_API_KEY=your-huggingface-token

# Default AI Provider
SENTIMENT_API_PROVIDER=gemini  # openai, gemini, or huggingface

# ============================================
# File Storage (AWS S3 / Supabase Storage)
# ============================================
# AWS S3
USE_S3=True
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_STORAGE_BUCKET_NAME=pulseofpeople-media
AWS_S3_REGION_NAME=ap-south-1
AWS_S3_CUSTOM_DOMAIN=cdn.yourdomain.com
AWS_DEFAULT_ACL=public-read
AWS_S3_OBJECT_PARAMETERS={"CacheControl": "max-age=86400"}

# Supabase Storage (Alternative)
USE_SUPABASE_STORAGE=False
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-key
SUPABASE_STORAGE_BUCKET=user-files

# ============================================
# Security Settings (Production)
# ============================================
# CORS Configuration
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com,https://app.yourdomain.com
CORS_ALLOW_CREDENTIALS=True

# CSRF Configuration
CSRF_TRUSTED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com,https://app.yourdomain.com
CSRF_COOKIE_SECURE=True
CSRF_COOKIE_HTTPONLY=True
CSRF_COOKIE_SAMESITE=Lax

# Session Security
SESSION_COOKIE_SECURE=True
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Lax
SESSION_COOKIE_AGE=1209600  # 2 weeks

# SSL/TLS
SECURE_SSL_REDIRECT=True
SECURE_PROXY_SSL_HEADER=HTTP_X_FORWARDED_PROTO,https

# Security Headers
SECURE_BROWSER_XSS_FILTER=True
SECURE_CONTENT_TYPE_NOSNIFF=True
SECURE_HSTS_SECONDS=31536000  # 1 year
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True
X_FRAME_OPTIONS=DENY

# Content Security Policy
CSP_DEFAULT_SRC='self'
CSP_SCRIPT_SRC='self','unsafe-inline','unsafe-eval',https://cdn.jsdelivr.net
CSP_STYLE_SRC='self','unsafe-inline',https://fonts.googleapis.com
CSP_FONT_SRC='self',https://fonts.gstatic.com
CSP_IMG_SRC='self',data:,https:
CSP_CONNECT_SRC='self',https://api.yourdomain.com

# ============================================
# Monitoring & Error Tracking (Sentry)
# ============================================
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1  # 10% of transactions
SENTRY_PROFILES_SAMPLE_RATE=0.1

# ============================================
# Analytics (Google Analytics)
# ============================================
GOOGLE_ANALYTICS_ID=UA-XXXXXXXXX-X
GOOGLE_TAG_MANAGER_ID=GTM-XXXXXXX

# ============================================
# Logging Configuration
# ============================================
LOG_LEVEL=INFO
ENABLE_SQL_LOGGING=False
ENABLE_REQUEST_LOGGING=True
LOG_FILE_PATH=/var/log/pulseofpeople/django.log
LOG_MAX_BYTES=10485760  # 10MB
LOG_BACKUP_COUNT=10

# ============================================
# Rate Limiting (Production)
# ============================================
RATE_LIMIT_ANON=100/hour
RATE_LIMIT_USER=1000/hour
RATE_LIMIT_ADMIN=5000/hour
ENABLE_RATE_LIMITING=True

# ============================================
# Feature Flags (Production)
# ============================================
ENABLE_NOTIFICATIONS=True
ENABLE_EMAIL_NOTIFICATIONS=True
ENABLE_SMS_NOTIFICATIONS=True
ENABLE_PUSH_NOTIFICATIONS=True
ENABLE_FILE_UPLOAD=True
ENABLE_SENTIMENT_ANALYSIS=True
ENABLE_AUDIT_LOGGING=True
ENABLE_REALTIME=True
ENABLE_2FA=True
ENABLE_SOCIAL_LOGIN=False
ENABLE_API_DOCS=False  # Disable Swagger in production
ENABLE_ADMIN_PANEL=True

# ============================================
# Multi-Tenancy Configuration
# ============================================
DEFAULT_ORGANIZATION_SLUG=default
ALLOW_ORG_CREATION=True
MAX_USERS_PER_ORG=100  # Production tier
MAX_CAMPAIGNS_PER_ORG=50
MAX_STORAGE_PER_ORG_GB=100

# ============================================
# Performance Settings
# ============================================
# Database Query Optimization
DB_QUERY_CACHE_TIMEOUT=300  # 5 minutes
ENABLE_QUERY_LOGGING=False
ENABLE_PERSISTENT_CONNECTIONS=True

# Template Caching
TEMPLATE_CACHE_TIMEOUT=3600  # 1 hour

# API Pagination
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# ============================================
# Backup Configuration
# ============================================
BACKUP_ENABLED=True
BACKUP_STORAGE=s3
BACKUP_S3_BUCKET=pulseofpeople-backups
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM

# ============================================
# Webhook Configuration
# ============================================
WEBHOOK_SECRET=your-webhook-secret-key
ENABLE_WEBHOOKS=True
WEBHOOK_TIMEOUT=30  # seconds

# ============================================
# Third-Party Integrations
# ============================================
# Slack Notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_CHANNEL=#alerts

# Microsoft Teams
TEAMS_WEBHOOK_URL=your-teams-webhook-url

# PagerDuty
PAGERDUTY_API_KEY=your-pagerduty-api-key
PAGERDUTY_SERVICE_ID=your-service-id

# ============================================
# Payment Gateway (Razorpay/Stripe)
# ============================================
# Razorpay (India)
RAZORPAY_KEY_ID=rzp_live_your-key-id
RAZORPAY_KEY_SECRET=your-razorpay-secret
RAZORPAY_WEBHOOK_SECRET=your-webhook-secret

# Stripe (International)
STRIPE_PUBLISHABLE_KEY=pk_live_your-stripe-key
STRIPE_SECRET_KEY=sk_live_your-stripe-secret
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# Default Payment Provider
PAYMENT_PROVIDER=razorpay  # or stripe

# ============================================
# Compliance & Legal
# ============================================
GDPR_COMPLIANCE=True
DATA_RETENTION_DAYS=2555  # 7 years
ENABLE_CONSENT_TRACKING=True
PRIVACY_POLICY_URL=https://yourdomain.com/privacy
TERMS_OF_SERVICE_URL=https://yourdomain.com/terms

# ============================================
# Deployment Configuration
# ============================================
DEPLOYMENT_PLATFORM=railway  # railway, render, heroku, aws
ENVIRONMENT=production
VERSION=1.0.0
BUILD_NUMBER=${CI_BUILD_NUMBER}
COMMIT_HASH=${CI_COMMIT_SHA}

# Health Check
HEALTH_CHECK_PATH=/api/health/
HEALTH_CHECK_TIMEOUT=5

# Gunicorn Configuration
GUNICORN_WORKERS=4
GUNICORN_THREADS=2
GUNICORN_TIMEOUT=120
GUNICORN_MAX_REQUESTS=1000
GUNICORN_MAX_REQUESTS_JITTER=50

# ============================================
# Regional Settings
# ============================================
LANGUAGE_CODE=en-us
TIME_ZONE=Asia/Kolkata
USE_I18N=True
USE_L10N=True
USE_TZ=True

# Currency
DEFAULT_CURRENCY=INR
CURRENCY_SYMBOL=â‚¹

# ============================================
# Development Overrides (Leave Empty)
# ============================================
# These should only be set in development
# DJANGO_SUPERUSER_EMAIL=
# DJANGO_SUPERUSER_PASSWORD=
# AUTO_CREATE_SUPERUSER=False
